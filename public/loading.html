<html>

<head>
    <link rel="stylesheet" href="./styleLoading.css">
</head>

<body>

    <div class="animal pig"></div>
    <div class="animal goose"></div>
    <div class="animal wolf"></div>
    <div class="animal chick"></div>
    <div id="stage"></div>
    <div class="logo">
        <div class="logo-inner"></div>
    </div>
    <script>
        const animals = ["pig", "goose", "wolf", "chick"];
        const stage = document.getElementById("stage");

        const SAFE_TOP_MIN = 150;
        const SAFE_TOP_MAX = window.innerHeight - 220;

        function spawnAnimal() {
            for (let i = 0; i < 2; i++) {
                const animal = document.createElement("div");
                const type = animals[Math.floor(Math.random() * animals.length)];
                animal.classList.add("animal", type);

                const y = Math.random() * (SAFE_TOP_MAX - SAFE_TOP_MIN) + SAFE_TOP_MIN;
                animal.style.top = `${y}px`;

                const moveDuration = 10 + Math.random() * 4;
                const walkCycle = moveDuration / 4;

                const goRight = Math.random() < 0.5;

                if (goRight) {
                    animal.classList.add("right");
                    animal.style.left = "-80px";
                    animal.style.animation = `
        walk ${walkCycle}s steps(4) infinite,
        moveRight ${moveDuration}s linear forwards
    `;
                } else {
                    animal.classList.add("left");
                    animal.style.left = "100vw";
                    animal.style.animation = `
        walk ${walkCycle}s steps(4) infinite,
        moveLeft ${moveDuration}s linear forwards
    `;
                }
                stage.appendChild(animal);
                setTimeout(() => animal.remove(), moveDuration * 1000);
            }
        }

        setInterval(spawnAnimal, 700);

        setTimeout(() => {
            const overlay = document.createElement("div");
            overlay.classList.add("slide-transition");
            document.body.appendChild(overlay);
            setTimeout(() => overlay.classList.add("active"), 50);
            setTimeout(() => (window.location.href = "index.html"), 1200);
        }, 5000);

    </script>
</body>

</html>